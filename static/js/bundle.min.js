function Form(e){var t=this;this.form=e,this.inputs=this.form.querySelectorAll("[name]"),this.submitBtn=this.form.querySelector("button"),this.canSubmit=function(){for(var e={text:/^.+$/,textarea:/.+/,email:/^[^@\s]+@[^@\s\.]+\.[\w\.]+$/},n=!0,i=0;i<t.inputs.length;i++){var o=t.inputs[i];o.required&&e[o.type]&&!e[o.type].test(o.value)?(o.classList.add("animated"),o.classList.remove("headShake"),waitFrame(function(e){return function(){e.classList.add("headShake")}}(o)),n=!1):o.classList.remove("headShake")}return n},this.submit=function(){if(t.canSubmit()){window.clientName=document.getElementById("name").value;var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){router.go("/thankyou/");var e=document.querySelector("#submiterName");e&&(e.innerHTML=" "+window.clientName+". Y")}};for(var n="?",i=0;i<this.inputs.length;i++){var o=this.inputs[i];""!==o.value&&(n+=0===i?o.name+"="+o.value:"&"+o.name+"="+o.value)}console.log(n),e.open("POST","/static/inc/submitform.php"+encodeURI(n),!0),e.send()}},this.submitBtn.addEventListener("click",function(e){e.preventDefault(),t.submit()})}function Nav(){this.toggleBtn=document.querySelector(".nav-btn"),this.body=document.getElementsByTagName("body")[0],this.nav__base=document.querySelector(".nav__base"),this.backdrop=this.nav__base.querySelector(".backdrop"),this.dropdowns=document.querySelectorAll(".dropdown"),this.dropdownOptions=document.querySelectorAll(".dropdown__content"),this.dropdownOpen=!1,this.actionTimeout=!1,this.open=function(){return this.body.classList.contains("nav-open")};for(var e=this,t=0;t<this.dropdowns.length;t++)this.dropdowns[t].addEventListener("click",function(t){return function(){e.actionTimeout||(e.dropdowns[t].classList.add("open"),e.dropdownOpen=!0,e.toggleBtn.classList.add("close-sub-menu"))}}(t));for(var n=0;n<this.dropdownOptions.length;n++)this.dropdownOptions[n].addEventListener("click",function(t){return function(){e.dropdownOptions[t].classList.add("tmp_close"),setTimeout(function(){e.dropdownOptions[t].classList.remove("tmp_close"),e.dropdownOptions[t].blur(),document.querySelector("html").focus()},500)}}(n));this.backdrop.addEventListener("click",function(e){e.preventDefault(),this.close()}.bind(this)),this.toggleBtn.addEventListener("click",function(n){if(n.preventDefault(),!this.actionTimeout)if(this.actionTimeout=!0,setTimeout(function(){e.actionTimeout=!1},200),this.dropdownOpen){this.dropdownOpen=!1,this.toggleBtn.classList.remove("close-sub-menu");var i=document.querySelectorAll(".dropdown.open");for(t=0;t<i.length;t++)i[t].classList.remove("open")}else this.body.classList.contains("nav-open")?this.close():this.body.classList.add("nav-open")}.bind(this)),this.startX=0,this.startY=0,this.nav__base.addEventListener("touchstart",function(e){this.open()&&(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY)}.bind(this),!1),this.nav__base.addEventListener("touchend",function(e){this.open()&&this.startX-e.changedTouches[0].clientX<-50&&Math.abs(this.startY-e.changedTouches[0].clientY)<Math.abs(this.startX-e.changedTouches[0].clientX)&&this.close()}.bind(this),!1),this.close=function(){e.actionTimeout=!0,setTimeout(function(){e.actionTimeout=!1},200),this.dropdownOpen=!1,this.toggleBtn.classList.remove("close-sub-menu");var n=document.querySelectorAll(".dropdown.open");for(t=0;t<n.length;t++)n[t].classList.remove("open");this.body.classList.remove("nav-open")}}function transitionEndEventName(){var e,t=document.createElement("div"),n={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(n.hasOwnProperty(e)&&void 0!==t.style[e])return n[e];return!1}function jRouter(){return this.initialized=!0,console.info("Checking jRouter requirements . . ."),Modernizr.history?console.info("History API: Pass"):(console.warn("History API: Fail"),this.initialized=!1),transitionend?console.info("transitionend event: Pass"):console.warn("transitionend event: Fail"),Map&&Map.prototype.keys?console.info("ES6 Map: Pass"):(console.warn("ES6 Map: Fail"),this.initialized=!1),Modernizr.promises?console.info("ES6 Promises: Pass"):(console.warn("ES6 Promises: Fail"),this.initialized=!1),this.initialized?(console.info("All requirements met. Initializing jRouter."),this.routes=new Map,this._onChanged=this._onChanged.bind(this),this._currentView=document.querySelector(".viewing"),this._addRoutes(),window.addEventListener("popstate",function(){router.go(window.location.href)}),void(this.onremoteviewloaded=[])):(console.error("Some requirements were not met. Terminating jRouter."),this)}function throttleScroll(){isScrolling===!1&&raf(function(){scrolling(),isScrolling=!1}),isScrolling=!0}function scrolling(){parallaxHandler();for(var e=0,t=scrollWatched.length;e<t;e++){var n=scrollWatched[e];isPartiallyVisible(n)?n.classList.add("scroll-active"):n.classList.remove("scroll-active")}}function isPartiallyVisible(e){var t=e.getBoundingClientRect(),n=t.height;return t.top+n>=0&&n+window.innerHeight>=t.bottom}window.onrouterload.push(function(){router.on("remoteviewloaded",function(){if(null!==document.getElementById("contactForm")){new Form(document.getElementById("contactForm"))}})}),waitFrame=requestAnimationFrame||function(e){e()},function(){/(?:ipod|iphone|ipad)/i.test(navigator.userAgent)&&document.getElementsByTagName("html")[0].classList.add("js-is-idevice")}(),window.nav=new Nav;var router,transitionend=transitionEndEventName();jRouter.prototype.addRoute=function(e,t){this.routes.has(e)||this.routes.set(e,t)},jRouter.prototype._addRoutes=function(){this._removeRoutes();var e,t,n=document.querySelectorAll('a[href^="/"]');for(e=0;e<n.length;e++)t=n[e],t.marked||(t.marked=!0,t.addEventListener("click",function(e){return function(t){t.preventDefault(),router.go(e.getAttribute("href"))}}(t),!1));var i,o,s,r=document.querySelectorAll(".page__base");for(s=0;s<r.length;s++)i=r[s],i.getAttribute("data-route")&&(o=i.getAttribute("data-route"),this.addRoute(new RegExp(o,"i"),i))},jRouter.prototype._removeRoutes=function(){this.routes.clear()},jRouter.prototype.on=function(e,t){if(jRouter["on"+e]=jRouter["on"+e]||[],t)jRouter["on"+e].push(t);else for(var n=0;n<jRouter["on"+e].length;n++)null!==jRouter["on"+e][n]&&jRouter["on"+e][n]()},jRouter.prototype.removeListener=function(e,t){for(var n=0;n<jRouter["on"+e].length;n++)jRouter["on"+e][n]===t&&(jRouter["on"+e][n]=null)},jRouter.prototype._onChanged=function(){var e=window.location.pathname,t=Array.from(this.routes.keys()),n=t.find(function(t){return t.test(e)}),i=n.exec(e);if(n){if(this._newView=this.routes.get(n),this._isTransitioningBetweenViews)return Promise.resolve();this._isTransitioningBetweenViews=!0;var o=Promise.resolve();if(this._currentView){if(this._currentView===this._newView)return this._isTransitioningBetweenViews=!1,this._currentView.update(i);o=this._currentView.out(i)}return o.then(function(){return this._currentView=this._newView,this._isTransitioningBetweenViews=!1,this._newView.in(i)}.bind(this))}},jRouter.prototype.go=function(e){return window.history.pushState(null,null,e),this._addRoutes(),this._onChanged()},window.addEventListener("load",function(){router=new jRouter;for(var e=0;e<window.onrouterload.length;e++)window.onrouterload[e]();router.on("remoteviewloaded"),router.on("viewchanged")}),HTMLDivElement.prototype._spinnerTimeout=void 0,HTMLDivElement.prototype._view=null,HTMLDivElement.prototype._isRemote=function(){return null!==this.getAttribute("data-remote")},HTMLDivElement.prototype._hideSpinner=function(){this.classList.remove("pending")},HTMLDivElement.prototype._showSpinner=function(){this.classList.add("pending")},HTMLDivElement.prototype._loadView=function(e){var t=setTimeout(function(){this._showSpinner()}.bind(this),500);this.loaded=!0;var n=new XMLHttpRequest;n.onload=function(e){var n=e.target.response.querySelector(".page__base.viewing");this.innerHTML=n.innerHTML,router._addRoutes(),clearTimeout(t),this._hideSpinner(),router.on("remoteviewloaded")}.bind(this),n.responseType="document",n.open("GET",e[0]+"?partial"),n.send()},HTMLDivElement.prototype.in=function(e){return console.info("ViewElement.in(",e,")"),this._isRemote()&&!this.loaded&&this._loadView(e),router.on("viewchanged"),new Promise(function(e){var t=function(){this.removeEventListener(transitionend,t),e()};this.classList.remove("hide-view"),this.classList.remove("pending"),this.classList.add("viewing"),this.addEventListener(transitionend,t)}.bind(this))},HTMLDivElement.prototype.out=function(e){return console.info("ViewElement.out(",e,")"),new Promise(function(e){var t=function(){window.scrollTo(0,0),this.classList.add("hide-view"),this.removeEventListener(transitionend,t),e()};window.nav.close(),this.classList.remove("viewing"),this.addEventListener(transitionend,t)}.bind(this))},HTMLDivElement.prototype.update=function(e){console.info("ViewElement.update(",e,")"),window.nav.close();var t=function(){this.removeEventListener("animationend",t),this.classList.remove("fadeIn")}.bind(this);return this.classList.add("animated"),this.classList.add("fadeIn"),this.addEventListener("animationend",t),Promise.resolve()};var isScrolling=!1,raf=requestAnimationFrame||webkitRequestAnimationFrame||mozRequestAnimationFrame||oRequestAnimationFrame||function(e){setTimeout(e,16)};window.addEventListener("scroll",throttleScroll,!1);var parallaxHandler=function(){};document.addEventListener("DOMContentLoaded",scrolling,!1);var scrollWatched=document.querySelectorAll(".scroll-watched");window.onrouterload.push(function(){function e(){if(scrollWatched=document.querySelectorAll(".scroll-watched"),window.innerWidth>850){var e,t=document.getElementById("parallax");t&&(parallaxHandler=function(){var n=window.pageYOffset;e="center "+.5*-n+"px",t.style.backgroundPosition=e})}scrolling()}router.on("remoteviewloaded",e),router.on("viewchanged",e)}),window.addEventListener("resize",scrolling);